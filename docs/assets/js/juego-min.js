const miModulo=(()=>{"use strict";let e=[],a=["C","D","H","S"],t=["A","J","Q","K"],r=[],n=document.querySelector("#btnPedir"),l=document.querySelector("#btnDetener"),d=document.querySelector("#btnNuevo"),o=document.querySelectorAll(".divCartas"),s=document.querySelectorAll("small"),i=(a=2)=>{e=u(),r=[],console.clear();for(let t=0;t<a;t++)r.push(0);s.forEach(e=>e.innerText=0),o.forEach(e=>e.innerText=""),n.disabled=!1,l.disabled=!1},u=()=>{e=[];for(let r=2;r<=10;r++)for(let n of a)e.push(r+n);for(let l of a)for(let d of t)e.push(d+l);return e=_.shuffle(e)},c=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},$=e=>{let a=e.substring(0,e.length-1);return"A"===a?11:isNaN(a)&&"A"!=a?10:parseInt(a)},p=(e,a)=>(r[a]=r[a]+$(e),s[a].innerText=r[a],r[a]),b=(e,a)=>{let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),o[a].append(t)},f=()=>{let[e,a]=r;setTimeout(()=>{21===e?(console.warn("21, Ganaste!!"),n.disabled=!0,l.disabled=!0,alert("Ganaste!!")):a===e&&a<=21?(console.warn("Nadie gana"),alert("Nadie gana")):21===a?(console.warn("21, Gano Computador!!"),alert("21, Gano Computador!!")):a>e&&a<21?(console.warn("21, Gano Computador!!"),alert("21, Gano Computador!!")):a>21&&(console.warn("Ganaste!!, Perdio Computadora"),alert("Ganaste!!, Perdio Computadora"))},400)},h=e=>{let a=0;do{let t=c();if(a=p(t,r.length-1),b(t,r.length-1),e>21)break}while(a<e&&a<=21);f()};return n.addEventListener("click",()=>{let e=c(),a=p(e,0);b(e,0),setTimeout(()=>{a>21?(alert("Perdiste"),console.warn("Perdiste :c"),n.disabled=!0,l.disabled=!0,h(a)):21===a&&(console.warn("21, Dale en bot\xf3n detener para que juegue la computadora!!"),n.disabled=!0,h(a))},100)}),l.addEventListener("click",()=>{n.disabled=!0,l.disabled=!0,h(r[0])}),d.addEventListener("click",()=>{i()}),{nuevoJuego:i}})();